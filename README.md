# üè¶ –°–∏—Å—Ç–µ–º—ã –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –ö–∞—Ä—Ç–∞–º–∏

## –ü—Ä–æ–µ–∫—Ç Spring Boot ‚Äî Effective Mobile Test

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- APP_NAME = bank-card-manager
- DB_NAME = bank_db
- DB_USER = franck
- DB_PASS =
- DB_PORT = 5434
- SERVER_PORT = 8080

## –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Spring Security + JWT)
- –†–æ–ª–∏: ADMIN, USER
- –í—Ö–æ–¥/–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ /api/auth
- JWT –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- –ê—Ç—Ä–∏–±—É—Ç—ã:
    - –Ω–æ–º–µ—Ä (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π + –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
    - –¥–µ—Ä–∂–∞—Ç–µ–ª—å
    - —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
    - —Å—Ç–∞—Ç—É—Å
    - –±–∞–ª–∞–Ω—Å

### 3. –§—É–Ω–∫—Ü–∏–∏ –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê
- –°–æ–∑–¥–∞–Ω–∏–µ, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –∞–∫—Ç–∏–≤–∞—Ü–∏—è, —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–∞—Ä—Ç (—Å –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π)

### 4. –§—É–Ω–∫—Ü–∏–∏ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç (—Å –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π)
- –ó–∞–ø—Ä–æ—Å –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∫–∞—Ä—Ç—ã
- –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞

### 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AES
- –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–µ—Ä–∞ –≤ –æ—Ç–≤–µ—Ç–∞—Ö API (**** **** **** 1234)
- –î–æ—Å—Ç—É–ø –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π

### 6. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- PostgreSQL
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ —á–µ—Ä–µ–∑ Liquibase (src/main/resources/db/migration)

### 7. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:8080/swagger-ui.html

### 8. –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–ª—é—á–µ–≤–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–ø–µ—Ä–µ–≤–æ–¥—ã, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –±–∞–ª–∞–Ω—Å)

### 9. Docker Compose
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –¶–ï–õ–ò MAKE ‚Äî –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï –ò –ó–ê–ü–£–°–ö

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å Docker DB + Spring Boot)
run:
- @echo "–ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL..."
    - docker-compose up -d
    - –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
        - docker-compose down
    - –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
        - docker rmi bank-card-manager-app
    - –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
        - docker-compose up --build
- @echo "–û–∂–∏–¥–∞–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥, –ø–æ–∫–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞..."
    - sleep 10
- @echo "–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Spring Boot..."
    - mvn spring-boot:run

## –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–æ–¥—É–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
test:
- @echo "üß™ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–æ–¥—É–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤..."
    - mvn test

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ OpenAPI –∏ –∑–∞–ø—É—Å–∫ Swagger UI
docs: run
- @echo "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ OpenAPI –≤ $(OPENAPI_FILE)..."
    - mkdir -p docs
    - curl -s http://localhost:$(SERVER_PORT)/v3/api-docs.yaml -o $(OPENAPI_FILE)
- @echo "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger UI –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:$(SERVER_PORT)/swagger-ui.html"

## –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–æ—á–∏—Å—Ç–∫–∞ + —É–ø–∞–∫–æ–≤–∫–∞)
build: clean-project test
- @echo "–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞..."
    - mvn package

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (Docker + –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
stop:
- @echo "–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Docker..."
    - docker-compose down